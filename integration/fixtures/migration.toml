[[test]]
name = 'Syntax'
migration = '''
CREATE TABLE syntax {};
'''
error = '''
RunMigration(
    Error {
        msg: "syntax error at or near \"{\"",
        help: None,
        src: NamedSource {
            name: "migrations/1653210840_first.sql",
            source: "<redacted>",
        ,
        err_span: Some(
            SourceSpan {
                offset: SourceOffset(
                    21,
                ),
                length: SourceOffset(
                    0,
                ),
            },
        ),
    },
)'''

[[test]]
name = 'InvalidMigrationFilename'
migration = ''
migration_name = 'first.sql'
error = '''
ReadMigration(
    InvalidMigrationFilename {
        path: "migrations/first.sql",
        name: "first",
    },
)'''

[[test]]
name = 'InvalidTimestamp'
migration = ''
migration_name = 'hello_first.sql'
error = '''
ReadMigration(
    InvalidTimestamp {
        path: "migrations/hello_first.sql",
        timestamp: "hello",
    },
)'''
